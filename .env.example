# ========================================
# ft_transcendence - Environment Configuration Example
# ========================================
# Copy this file to .env and replace placeholder values with your actual configuration.
# DO NOT commit real secrets or production credentials to version control.

# ========================================
# Network Configuration
# ========================================
# Default port used by microservices (can be overridden per service)
PORT=3000
# Host URL where the main application is accessible
HOST=http://127.0.0.1:8080

# ========================================
# Internal API Secret
# ========================================
# Shared secret for authenticating inter-service communication
# Generate a strong random string: openssl rand -base64 32
INTERNAL_API_SECRET=change-me-internal-api-secret

# ========================================
# Users Service
# ========================================
# Internal URL for the users service (used by other services)
USERS_SERVICE_URL=http://users:${PORT}
# Path to SQLite database file for users service
USERS_DB_PATH=/data/db-users.sqlite

# ========================================
# Auth Service
# ========================================
# Internal URL for the authentication service
AUTH_SERVICE_URL=http://auth:${PORT}
# Path to SQLite database file for auth service
AUTH_DB_PATH=/data/db-auth.sqlite

# ========================================
# Google OAuth Configuration
# ========================================
# Get these credentials from: https://console.cloud.google.com/
# 1. Create a project
# 2. Go to APIs & Services â†’ Credentials
# 3. Create OAuth 2.0 Client ID
# 4. Add authorized redirect URI: http://localhost:8080/auth/login/google/callback
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ========================================
# 2FA (Two-Factor Authentication) Service
# ========================================
# Internal URL for the 2FA service
TWOFA_SERVICE_URL=http://2fa:${PORT}
# Path to SQLite database file for 2FA service
TWOFA_DB_PATH=/data/db-2fa.sqlite
# Encryption key for storing TOTP secrets (base64-encoded 32-byte key)
# Generate with: openssl rand -base64 32
TOTP_ENC_KEY=your-base64-encoded-encryption-key

# ========================================
# Matchmaking Service
# ========================================
# Internal URL for the matchmaking service (handles game lobbies and matchmaking)
MATCHMAKING_SERVICE_URL=http://matchmaking:${PORT}
# Path to SQLite database file for matchmaking service
MATCHMAKING_DB_PATH=/data/db-matchmaking.sqlite

# ========================================
# Social Service
# ========================================
# Internal URL for the social service (friends, chat, notifications)
SOCIAL_SERVICE_URL=http://social:${PORT}
# Path to SQLite database file for social service
SOCIAL_DB_PATH=/data/db-social.sqlite

# ========================================
# Admin Credentials
# ========================================
# Default admin username for initial setup
LOGIN_ADMIN=admin
# Default admin password for initial setup (change in production!)
PASSWORD_ADMIN=change-me-admin-password

# ========================================
# Monitoring & Admin
# ========================================
# Admin token for accessing monitoring endpoints and administrative functions
ADMIN_TOKEN=change-me-admin-token

# ========================================
# Frontend Configuration
# ========================================
# Base URL where the frontend is accessible (used for OAuth redirects, CORS, etc.)
FRONTEND_BASE_URL=http://localhost:8080

# ========================================
# Grafana Configuration
# ========================================
# Root URL for Grafana dashboard (served at /grafana/ path)
GF_SERVER_ROOT_URL=${FRONTEND_BASE_URL}/grafana/
# Enable serving Grafana from a subpath instead of root
GF_SERVER_SERVE_FROM_SUB_PATH=true
# Grafana admin username
GF_SECURITY_ADMIN_USER=admin
# Grafana admin password (change in production!)
GF_SECURITY_ADMIN_PASSWORD=change-me-grafana-password

# ========================================
# OpenAPI / DTO Configuration
# ========================================
# Path to OpenAPI specification file for Data Transfer Objects
DTO_OPENAPI_FILE=/app/packages/common/openapiDTO.json

# ========================================
# JWT Secrets
# ========================================
# Secret key for signing and verifying JWT tokens (auth service)
# Generate a strong random string: openssl rand -base64 32
JWT_SECRET=change-me-jwt-secret
# Separate JWT secret for social service token signing
JWT_SECRET_SOCIAL=change-me-jwt-secret-social
# Separate JWT secret for game-related token signing
JWT_SECRET_GAME=change-me-jwt-secret-game

# ========================================
# WebSocket Configuration
# ========================================
# WebSocket Token Expiration
WS_TOKEN_EXPIRES_SECONDS=30

# ========================================
# Discord Webhook (Optional)
# ========================================
# Discord webhook URL for notifications and alerts
# Leave empty to disable Discord integration
DISCORD_WEBHOOK_URL=

# ========================================
# Notes
# ========================================
# - Never commit .env files with real secrets to Git!
# - Ensure .env is listed in .gitignore
# - In production, use Docker secrets, Kubernetes secrets, or a secrets manager
# - For CI/CD, set environment variables in your pipeline configuration
# - All secrets should be rotated regularly and never hardcoded in source code
