#!/usr/bin/env bash

COMMIT_MSG=$(cat "$1")
PREFIXES="build|chore|ci|docs|feat|fix|perf|refactor|revert|style|test|wip"

if [[ "$COMMIT_MSG" =~ ^(${PREFIXES}):\ [^[:space:]].* ]]; then
    exit 0
fi

echo "Invalid format: $COMMIT_MSG" >&2
echo "Use : build: |chore: |ci: |docs: |feat: |fix: |perf: |refactor: |revert: |style: |test: |wip: " >&2
exit 1