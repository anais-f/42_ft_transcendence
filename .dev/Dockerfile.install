FROM node:22-alpine

RUN apk add --no-cache python3 make g++

ENV npm_config_build_from_source=true

WORKDIR /app

CMD [ "sh", "-c", "npm ci && npm run build" ]
