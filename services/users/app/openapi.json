{
	"openapi": "3.0.3",
	"info": {
		"title": "API for Users Service",
		"version": "1.0.0"
	},
	"components": {
		"schemas": {
			"LoginSchema": {
				"type": "string",
				"minLength": 4,
				"maxLength": 16,
				"pattern": "^[\\w-]{4,16}$"
			},
			"UserCreatedWebhookSchema": {
				"description": "Public user authentication schema",
				"type": "object",
				"properties": {
					"user_id": {
						"type": "integer",
						"minimum": 1,
						"maximum": 9007199254740991
					},
					"login": {
						"$ref": "#/components/schemas/LoginSchema"
					}
				},
				"required": ["user_id", "login"],
				"additionalProperties": false
			},
			"UserPrivateProfileSchema": {
				"description": "Private user profile schema",
				"type": "object",
				"properties": {
					"user_id": {
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"username": {
						"$ref": "#/components/schemas/UsernameSchema"
					},
					"avatar": {
						"type": "string"
					},
					"status": {
						"type": "number"
					},
					"last_connection": {
						"type": "string"
					}
				},
				"required": [
					"user_id",
					"username",
					"avatar",
					"status",
					"last_connection"
				],
				"additionalProperties": false
			},
			"UsernameSchema": {
				"type": "string",
				"minLength": 4,
				"maxLength": 16,
				"pattern": "^[\\w-]{4,16}$"
			},
			"PublicUserAuthSchema": {
				"description": "Public user authentication schema",
				"type": "object",
				"properties": {
					"user_id": {
						"type": "integer",
						"minimum": 1,
						"maximum": 9007199254740991
					},
					"login": {
						"$ref": "#/components/schemas/LoginSchema"
					}
				},
				"required": ["user_id", "login"],
				"additionalProperties": false
			},
			"PublicUserListAuthSchema": {
				"description": "List of public user authentications",
				"type": "object",
				"properties": {
					"users": {
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/UserCreatedWebhookSchema"
						}
					}
				},
				"required": ["users"],
				"additionalProperties": false
			},
			"UserIdSchema": {
				"description": "User identifier schema",
				"type": "object",
				"properties": {
					"user_id": {
						"type": "integer",
						"minimum": 1,
						"maximum": 9007199254740991
					}
				},
				"required": ["user_id"],
				"additionalProperties": false
			},
			"UserPrivateProfileListSchema": {
				"description": "List of private user profiles",
				"type": "object",
				"properties": {
					"users": {
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/UserPrivateProfileSchema"
						}
					}
				},
				"required": ["users"],
				"additionalProperties": false
			},
			"UserPublicProfileSchema": {
				"description": "Public user profile schema",
				"type": "object",
				"properties": {
					"user_id": {
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"username": {
						"$ref": "#/components/schemas/UsernameSchema"
					},
					"avatar": {
						"type": "string"
					},
					"status": {
						"type": "number"
					},
					"last_connection": {
						"type": "string"
					}
				},
				"required": [
					"user_id",
					"username",
					"avatar",
					"status",
					"last_connection"
				],
				"additionalProperties": false
			},
			"ErrorResponseSchema": {
				"type": "object",
				"properties": {
					"success": {
						"type": "boolean"
					},
					"error": {
						"type": "string"
					}
				},
				"required": ["error"],
				"additionalProperties": false
			},
			"SuccessResponseSchema": {
				"type": "object",
				"properties": {
					"success": {
						"type": "boolean",
						"enum": [true]
					},
					"message": {
						"type": "string"
					}
				},
				"required": ["success"],
				"additionalProperties": false
			},
			"LoginActionSchema": {
				"type": "object",
				"properties": {
					"login": {
						"$ref": "#/components/schemas/LoginSchema"
					},
					"password": {
						"type": "string",
						"minLength": 8,
						"maxLength": 128
					}
				},
				"required": ["login", "password"],
				"additionalProperties": false
			},
			"RegisterSchema": {
				"type": "object",
				"properties": {
					"login": {
						"$ref": "#/components/schemas/LoginSchema"
					},
					"password": {
						"type": "string",
						"minLength": 8,
						"maxLength": 128
					}
				},
				"required": ["login", "password"],
				"additionalProperties": false
			}
		}
	},
	"paths": {
		"/api/users/new-user": {
			"post": {
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"description": "Public user authentication schema",
								"type": "object",
								"properties": {
									"user_id": {
										"type": "integer",
										"minimum": 1,
										"maximum": 9007199254740991
									},
									"login": {
										"type": "string",
										"minLength": 4,
										"maxLength": 16,
										"pattern": "^[\\w-]{4,16}$"
									}
								},
								"required": ["user_id", "login"],
								"additionalProperties": false
							}
						}
					},
					"required": true,
					"description": "Public user authentication schema"
				},
				"responses": {
					"200": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean",
											"enum": [true]
										},
										"message": {
											"type": "string"
										}
									},
									"required": ["success"],
									"additionalProperties": false
								}
							}
						}
					},
					"201": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean",
											"enum": [true]
										},
										"message": {
											"type": "string"
										}
									},
									"required": ["success"],
									"additionalProperties": false
								}
							}
						}
					},
					"400": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"error": {
											"type": "string"
										}
									},
									"required": ["error"],
									"additionalProperties": false
								}
							}
						}
					},
					"401": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"error": {
											"type": "string"
										}
									},
									"required": ["error"],
									"additionalProperties": false
								}
							}
						}
					},
					"500": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"error": {
											"type": "string"
										}
									},
									"required": ["error"],
									"additionalProperties": false
								}
							}
						}
					}
				}
			}
		},
		"/api/users/{id}": {
			"get": {
				"parameters": [
					{
						"schema": {
							"type": "integer",
							"exclusiveMinimum": true,
							"maximum": 9007199254740991
						},
						"in": "path",
						"name": "id",
						"required": true
					}
				],
				"responses": {
					"200": {
						"description": "Public user profile schema",
						"content": {
							"application/json": {
								"schema": {
									"description": "Public user profile schema",
									"type": "object",
									"properties": {
										"user_id": {
											"type": "integer",
											"exclusiveMinimum": true,
											"maximum": 9007199254740991
										},
										"username": {
											"type": "string",
											"minLength": 4,
											"maxLength": 16,
											"pattern": "^[\\w-]{4,16}$"
										},
										"avatar": {
											"type": "string"
										},
										"status": {
											"type": "number"
										},
										"last_connection": {
											"type": "string"
										}
									},
									"required": [
										"user_id",
										"username",
										"avatar",
										"status",
										"last_connection"
									],
									"additionalProperties": false
								}
							}
						}
					},
					"400": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"error": {
											"type": "string"
										}
									},
									"required": ["error"],
									"additionalProperties": false
								}
							}
						}
					},
					"401": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"error": {
											"type": "string"
										}
									},
									"required": ["error"],
									"additionalProperties": false
								}
							}
						}
					},
					"404": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"error": {
											"type": "string"
										}
									},
									"required": ["error"],
									"additionalProperties": false
								}
							}
						}
					},
					"500": {
						"description": "Default Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"error": {
											"type": "string"
										}
									},
									"required": ["error"],
									"additionalProperties": false
								}
							}
						}
					}
				}
			}
		}
	},
	"servers": [
		{
			"url": "http://localhost:8080/users",
			"description": "Local server"
		}
	]
}
